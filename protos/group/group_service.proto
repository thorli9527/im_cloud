syntax = "proto3";

package rpc_group_service;
import "group_models.proto";
import "google/protobuf/empty.proto";
// ==============================
// 群组服务主接口定义
// ==============================



service GroupRpcService {
  // 用户上线，表示用户主动进入某个群组或连接建立
  rpc online(rpc_group_models.OnlineReq) returns (rpc_group_models.CommonResp);

  // 用户下线，表示用户离开某个群组或断开连接
  rpc offline(rpc_group_models.OfflineReq) returns (rpc_group_models.CommonResp);

  // 分页获取某个群组内当前在线的用户ID列表
  rpc getOnlineMembers(rpc_group_models.GetOnlineMembersReq) returns (rpc_group_models.GetOnlineMembersResp);

  // 分页获取某个群组的所有成员ID（包含在线与离线）
  rpc getMembers(rpc_group_models.GetMembersReq) returns (rpc_group_models.GetMembersRep);

  // 创建新的群组，包括基础信息和初始成员列表
  rpc createGroup(rpc_group_models.CreateGroupReq) returns (rpc_group_models.CommonResp);

  // 解散某个群组，所有成员将自动退出，群数据不可恢复
  rpc destroyGroup(rpc_group_models.DestroyGroupReq) returns (rpc_group_models.CommonResp);

  // 获取指定群组的基本信息与成员结构（用于群资料页等）
  rpc getGroupInfo(rpc_group_models.GetGroupInfoReq) returns (rpc_group_models.GetGroupInfoRep);

  // 修改群组基础信息，包括名称、头像、描述、加入规则等
  rpc updateGroupInfo(rpc_group_models.UpdateGroupInfoReq) returns (rpc_group_models.CommonResp);

  // 添加一批成员到群组（通常由管理员或邀请系统发起）
  rpc addMember(rpc_group_models.AddMemberReq) returns (rpc_group_models.CommonResp);

  // 将一批成员从群组中移除（可由管理员执行）
  rpc removeMember(rpc_group_models.RemoveMemberReq) returns (rpc_group_models.CommonResp);

  // 当前用户主动退出群组（成员自行触发）
  rpc exitGroup(rpc_group_models.ExitGroupReq) returns (rpc_group_models.CommonResp);

  // 修改指定成员在群组中的角色权限（管理员/成员）
  rpc changeMemberRole(rpc_group_models.ChangeMemberRoleReq) returns (rpc_group_models.CommonResp);

  // 设置或取消某个成员的禁言状态
  rpc muteMember(rpc_group_models.MuteMemberReq) returns (rpc_group_models.CommonResp);

  // 修改成员在群组中的显示昵称（群内别名）
  rpc changeMemberAlias(rpc_group_models.ChangeMemberAliasReq) returns (rpc_group_models.CommonResp);

  // 转让群主身份给其他成员（当前群主执行）
  rpc transferOwnership(rpc_group_models.TransferGroupOwnershipReq) returns (rpc_group_models.CommonResp);


}
