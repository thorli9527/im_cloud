syntax = "proto3";

package protocol.entity;
import "msg/message.proto";

// ======================================
// ğŸ‘¤ ç”¨æˆ·æ¶ˆæ¯ç»“æ„ï¼ˆå•èŠæ¶ˆæ¯ï¼‰
// ======================================
message UserMsgEntity {
  uint64 message_id = 1;                        // å½“å‰æ¶ˆæ¯å”¯ä¸€ ID
  string from = 2;                              // å‘é€è€…ç”¨æˆ·ID
  string to = 3;                                // æ¥æ”¶è€…ç”¨æˆ·ID
  repeated message.Segment content = 4;         // æ¶ˆæ¯å†…å®¹
  int64 read_time = 5;                          // é˜…è¯»æ—¶é—´
  bool revoked = 6;                             // æ˜¯å¦æ’¤å›
  bool is_system = 7;                           // æ˜¯å¦ç³»ç»Ÿæ¶ˆæ¯
  bool sync_mq_status = 8;                     // æ˜¯å¦åŒæ­¥åˆ° MQ
  bool delivered = 9;                          // æ˜¯å¦é€è¾¾
  int64 created_time = 99;                       // åˆ›å»ºæ—¶é—´
  int64 updated_time = 100;                       // æœ€åæ›´æ–°æ—¶é—´
}

// ======================================
// ğŸ‘¥ ç¾¤ç»„æ¶ˆæ¯ç»“æ„ï¼ˆç¾¤èŠæ¶ˆæ¯ï¼‰
// ======================================
message GroupMsgEntity {
  uint64 message_id = 1;                        // æ¶ˆæ¯å”¯ä¸€ ID
  string from = 2;                              // å‘é€è€…ç”¨æˆ·ID
  string to = 3;                                // ç¾¤ç»„ID
  repeated message.Segment content = 4;         // æ¶ˆæ¯å†…å®¹
  int64 seq = 5;                                // ç¾¤å†…æ¶ˆæ¯åºå·
  bool revoked = 6;                             // æ˜¯å¦æ’¤å›
  bool is_system = 7;                           // æ˜¯å¦ç³»ç»Ÿæ¶ˆæ¯
  bool sync_mq_status = 8;                     // æ˜¯å¦åŒæ­¥åˆ° MQ

  int64 create_time = 99;                        // åˆ›å»ºæ—¶é—´
  int64 update_time = 100;                        // æ›´æ–°æ—¶é—´
}


