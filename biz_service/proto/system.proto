syntax = "proto3";
package protocol.system;

// ======================================
// ğŸ”§ ç³»ç»Ÿç›¸å…³åè®®å®šä¹‰æ–‡ä»¶
// ======================================
// æœ¬æ–‡ä»¶å®šä¹‰äº†ç³»ç»Ÿçº§åˆ«çš„æ¶ˆæ¯åè®®ï¼Œç”¨äºç³»ç»Ÿé€šçŸ¥å’Œäº‹ä»¶æ¨é€
// 
// ä¸»è¦åŒ…å«ï¼š
// 1. SystemNotificationMsg - é€šç”¨ç³»ç»Ÿé€šçŸ¥æ¶ˆæ¯
// 2. SystemEventMsg - ç³»ç»Ÿäº‹ä»¶æ¶ˆæ¯
// ======================================

// =======================================
// ğŸ“¢ é€šç”¨ç³»ç»Ÿé€šçŸ¥æ¶ˆæ¯
// =======================================
// ç”¨äºå®¢æˆ·ç«¯æ¥æ”¶ç³»ç»Ÿçº§åˆ«çš„é€šçŸ¥ï¼Œå¦‚ç™»å½•æé†’ã€è´¦å·å˜åŠ¨ã€å¼ºåˆ¶ä¸‹çº¿ç­‰
message SystemNotificationMsg {
  string notification_type = 1;  // é€šçŸ¥ç±»å‹æ ‡è¯†ï¼Œä¾‹å¦‚ login/logout/mute/kick/update ç­‰
  string sender = 2;             // å‘èµ·æ–¹æ ‡è¯†ï¼ˆç³»ç»Ÿæˆ–ç®¡ç†å‘˜ç”¨æˆ·å/IDï¼‰
  string target = 3;             // è¢«é€šçŸ¥çš„å¯¹è±¡ IDï¼ˆå¯ä»¥æ˜¯ç”¨æˆ· ID æˆ–ç¾¤ç»„ IDï¼‰
  string content = 4;            // é€šçŸ¥çš„ä¸»ä½“å†…å®¹ï¼ˆæ–‡æœ¬æˆ– JSON æ ¼å¼ï¼Œä¾¿äºç»“æ„åŒ–æ‰©å±•ï¼‰
  int64 timestamp = 5;           // é€šçŸ¥è§¦å‘çš„æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰
  map<string, string> meta = 6;  // é™„åŠ ä¿¡æ¯é”®å€¼å¯¹ï¼ˆå¦‚ IP åœ°å€ã€æ¥æºè®¾å¤‡ã€ç™»å½•ä½ç½®ç­‰ï¼‰
}

// =======================================
// ğŸš¨ ç³»ç»Ÿäº‹ä»¶æ¶ˆæ¯ï¼ˆServer äº‹ä»¶æ¨é€ï¼‰
// =======================================
// ç”¨äºä¼ é€’åç«¯ä¸šåŠ¡é€»è¾‘äº‹ä»¶ï¼Œä¾‹å¦‚ç”¨æˆ·è¢«å°ç¦ã€æœåŠ¡é‡å¯ã€è®¾å¤‡å†²çªç­‰
message SystemEventMsg {
  string event_type = 1;             // äº‹ä»¶ç±»å‹æ ‡è¯†ï¼ˆå¦‚ user_bannedã€server_shutdownã€session_conflictï¼‰
  string description = 2;            // äº‹ä»¶çš„è¯¦ç»†æè¿°ï¼ˆç”¨äº UI å±•ç¤ºæˆ–ç”¨æˆ·æç¤ºï¼‰
  map<string, string> details = 3;   // é™„åŠ å‚æ•°ä¿¡æ¯ï¼ˆä¾‹å¦‚ {"ban_reason": "è¿è§„å‘è¨€", "duration": "7d"}ï¼‰
}
